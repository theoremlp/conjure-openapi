name: 'Setup Gradle environment'
description: Configures an environment to run Gradle tasks
inputs:
  git-token:
    description: The github token to use for auth, EULER_REPO_TOKEN
    required: true
runs:
  using: composite
  steps:
    - uses: actions/setup-java@v3
      with:
        distribution: 'zulu'
        java-version: '17'
    - uses: gradle/gradle-build-action@v2
    - name: Setup github packages
      shell: bash
      env:
        TOKEN: ${{ inputs.git-token }}
      run: |
        mkdir ~/.github
        echo '{"username": "euler-theorem", "accessToken": "'"$TOKEN"'"}' > ~/.github/credentials.json